!function(e,o){"use strict";function t(o,t){var n=e.extend(!0,{duration:200,effect:{open:e.fn.fadeIn,close:e.fn.fadeOut},overlay:{opacity:.6,zIndex:9e3},closeClass:m+"-close"},t);return n.overlay.fillColor=n.overlay.fillColor||n.overlay.color||"#888",n.zIndex=n.zIndex||n.overlay.zIndex+1,r||(r=e(window),f=e('<div class="'+m+'-overlay" />').css({position:"fixed",left:0,top:0,width:"100%",height:"100%",display:"none"}).appendTo(c=e("body")).click(l),e(document).focusin(function(o){C&&!C.has(o.target).length&&(s?s.focus():e(document.activeElement).blur())}).keydown(function(e){return C&&27===e.keyCode?l(e):void 0})),o.each(function(){var o=e(this),t={position:"fixed",display:"none",zIndex:n.zIndex};n.offset?("function"!=typeof n.offset&&(t.left=n.offset.left,t.top=n.offset.top),t.marginLeft=t.marginTop=""):(t.left=t.top="50%",t.marginLeft="-"+o.outerWidth()/2+"px",t.marginTop="-"+o.outerHeight()/2+"px"),n.closeClass&&o.find("."+n.closeClass).off("click",l).click(l),"function"==typeof n.open&&o.off(y,n.open).on(y,n.open),"function"==typeof n.close&&o.off(x,n.close).on(x,n.close),o.css(t).data(h,n).appendTo(c)})}function n(o,n){var l,m,x,I,w,z;return null===C&&o.length&&(l=o.eq(0),(n||!(m=l.data(h)))&&(m=t(l,n).data(h)),x=c.get(0).style,u=x.overflow,I=c.prop("clientWidth"),w=c.prop("clientHeight"),c.css("overflow","hidden"),I-=c.prop("clientWidth"),w-=c.prop("clientHeight"),d=x.marginRight,p=x.marginBottom,0>I&&c.css("marginRight","+="+-I),0>w&&c.css("marginBottom","+="+-w),a=e(document.activeElement).blur(),s=null,g=r.scrollLeft(),v=r.scrollTop(),r.scroll(i),"function"==typeof m.offset&&(z=m.offset.call(l),l.css({left:z.left,top:z.top})),m.effect.open.call(l,m.duration||1,function(){l.find("a,input,select,textarea,button,object,area,img,map").each(function(){var o=e(this);return o.focus().get(0)===document.activeElement?(s=o,!1):void 0}),C=l.trigger(y)}),f.css({backgroundColor:m.overlay.fillColor,zIndex:m.overlay.zIndex}).fadeTo(m.duration,m.overlay.opacity),C=0),o}function l(t){var n,l,s=t instanceof e.Event;return C&&(n=s?C:function(){var e=t.index(C);return e>-1?t.eq(e):o}(),n&&(l=n.data(h),l.effect.close.call(n,l.duration||1,function(){c.css({overflow:u,marginRight:d,marginBottom:p}),a&&a.length&&a.focus(),r.off("scroll",i).scrollLeft(g).scrollTop(v),n.trigger(x),C=null}),f.fadeOut(l.duration),C=0)),s?(t.preventDefault(),!1):t}function i(e){return r.scrollLeft(g).scrollTop(v),e.preventDefault(),!1}var r,c,f,a,s,u,d,p,g,v,h="plainModal",m=h.toLowerCase(),y=m+"open",x=m+"close",C=null;e.fn[h]=function(e,o){return"open"===e?n(this,o):"close"===e?l(this):t(this,e)}}(jQuery);