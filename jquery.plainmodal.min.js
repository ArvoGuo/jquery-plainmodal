!function(e,o){"use strict";function t(o,t){var n=e.extend(!0,{duration:200,effect:{open:e.fn.fadeIn,close:e.fn.fadeOut},overlay:{opacity:.6,zIndex:9e3},closeClass:T+"-close"},t);return n.overlay.fillColor=n.overlay.fillColor||n.overlay.color||"#888",n.zIndex=n.zIndex||n.overlay.zIndex+1,u||(u=e(window),p=e('<div class="'+T+'-overlay" />').css({position:"fixed",left:0,top:0,width:"100%",height:"150%",display:"none"}).appendTo(d=e("body")).click(r).on("touchmove",function(){return!1}),e(document).focusin(function(o){L&&!L.has(o.target).length&&(v?v.focus():e(document.activeElement).blur())}).keydown(function(e){return L&&27===e.keyCode?r(e):void 0})),o.each(function(){var o=e(this),t={position:"fixed",display:"none",zIndex:n.zIndex};n.offset?"function"==typeof n.offset?n.offset=function(e){return function(){var o=this;return e.call(o,function(){f.call(o)})}}(n.offset):(t.left=n.offset.left,t.top=n.offset.top,t.marginLeft=t.marginTop=""):n.offset=f,n.closeClass&&o.find("."+n.closeClass).off("click",r).click(r),e.each([["open",z],["close",C],["beforeopen",I],["beforeclose",E]],function(e,t){var r=t[0],i=t[1];"function"==typeof n[r]&&o.off(i,n[r]).on(i,n[r])}),o.css(t).data(w,n).appendTo(d).on("touchmove",function(){return!1})})}function n(n,f){var T,C,E,k,D,B=n.length?n.eq(0):o;return c||!B?n:((f||!(T=B.data(w)))&&(T=t(B,f).data(w)),!a&&T.force&&s&&s.get(0)!==B.get(0)&&(s.stop(!0,!0),p.stop(!0,!0)),!a&&T.force&&L&&L.get(0)!==B.get(0)?(a=B,r(L)):null===L&&(c=!0,D=e.Event(I,{cancelable:!0}),B.trigger(D),D.isDefaultPrevented()||(C=d.get(0).style,h=C.overflow,E=d.prop("clientWidth"),k=d.prop("clientHeight"),d.css("overflow","hidden"),E-=d.prop("clientWidth"),k-=d.prop("clientHeight"),m=C.marginRight,y=C.marginBottom,0>E&&d.css("marginRight","+="+-E),0>k&&d.css("marginBottom","+="+-k),g=e(document.activeElement).blur(),v=null,x=u.scrollLeft(),b=u.scrollTop(),u.scroll(l),i(B,T),T.effect.open.call(s=B,T.duration||1,function(){s=o,B.find("a,input,select,textarea,button,object,area,img,map").each(function(){var o=e(this);return o.focus().get(0)===document.activeElement?(v=o,!1):void 0}),L=B,B.trigger(z)}),p.css({backgroundColor:T.overlay.fillColor,zIndex:T.overlay.zIndex}).fadeTo(T.duration,T.overlay.opacity),L=0),c=!1),n)}function r(t){var r,i,f,v,T=t instanceof e.Event;return!c&&L&&(c=!0,r=T?L:function(){var e=t.index(L);return e>-1?t.eq(e):o}(),r&&(f=e.Event(E,{cancelable:!0}),T?f.from=t:a&&(f.from=a),r.trigger(f),f.isDefaultPrevented()?a=o:(i=r.data(w),v=a?1:i.duration||1,i.effect.close.call(s=r,v,function(){var i;s=o,d.css({overflow:h,marginRight:m,marginBottom:y}),g&&g.length&&g.focus(),u.off("scroll",l).scrollLeft(x).scrollTop(b),L=null,i=e.Event(C),T?i.from=t:a&&(i.from=a),r.trigger(i),a&&window.setTimeout(function(){n(a),a=o},0)}),p.fadeOut(v),L=0)),c=!1),T?(t.preventDefault(),!1):t}function i(e,o){var t;o=o||e.data(w),"function"==typeof o.offset&&(t=o.offset.call(e))&&e.css({left:t.left,top:t.top,marginLeft:"",marginTop:""})}function f(){this.css({left:"50%",top:"50%",marginLeft:"-"+this.outerWidth()/2+"px",marginTop:"-"+this.outerHeight()/2+"px"})}function l(e){return u.scrollLeft(x).scrollTop(b),e.preventDefault(),!1}var c,a,s,u,d,p,g,v,h,m,y,x,b,w="plainModal",T=w.toLowerCase(),z=T+"open",C=T+"close",I=T+"beforeopen",E=T+"beforeclose",L=null;e(function(){e(window).resize(function(){L&&i(L)})}),e.fn[w]=function(e,o){return"open"===e?n(this,o):"close"===e?r(this):t(this,e)}}(jQuery);