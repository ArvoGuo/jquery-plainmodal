!function(e,o){"use strict";function t(o,t){var n=e.extend(!0,{duration:200,effect:{open:e.fn.fadeIn,close:e.fn.fadeOut},overlay:{opacity:.6,zIndex:9e3},closeClass:m+"-close"},t);return n.overlay.fillColor=n.overlay.fillColor||n.overlay.color||"#888",n.zIndex=n.zIndex||n.overlay.zIndex+1,i||(i=e(window),f=e('<div class="'+m+'-overlay" />').css({position:"fixed",left:0,top:0,width:"100%",height:"150%",display:"none"}).appendTo(c=e("body")).click(l).on("touchmove",function(){return!1}),e(document).focusin(function(o){I&&!I.has(o.target).length&&(s?s.focus():e(document.activeElement).blur())}).keydown(function(e){return I&&27===e.keyCode?l(e):void 0})),o.each(function(){var o=e(this),t={position:"fixed",display:"none",zIndex:n.zIndex};n.offset?("function"!=typeof n.offset&&(t.left=n.offset.left,t.top=n.offset.top),t.marginLeft=t.marginTop=""):(t.left=t.top="50%",t.marginLeft="-"+o.outerWidth()/2+"px",t.marginTop="-"+o.outerHeight()/2+"px"),n.closeClass&&o.find("."+n.closeClass).off("click",l).click(l),e.each([["open",y],["close",x],["beforeopen",b],["beforeclose",C]],function(e,t){var l=t[0],r=t[1];"function"==typeof n[l]&&o.off(r,n[l]).on(r,n[l])}),o.css(t).data(h,n).appendTo(c).on("touchmove",function(){return!1})})}function n(o,n){var l,m,x,C,w,z,T;if(null===I&&o.length){if(l=o.eq(0),(n||!(m=l.data(h)))&&(m=t(l,n).data(h)),T=e.Event(b,{cancelable:!0}),l.trigger(T),T.isDefaultPrevented())return o;x=c.get(0).style,u=x.overflow,C=c.prop("clientWidth"),w=c.prop("clientHeight"),c.css("overflow","hidden"),C-=c.prop("clientWidth"),w-=c.prop("clientHeight"),d=x.marginRight,p=x.marginBottom,0>C&&c.css("marginRight","+="+-C),0>w&&c.css("marginBottom","+="+-w),a=e(document.activeElement).blur(),s=null,v=i.scrollLeft(),g=i.scrollTop(),i.scroll(r),"function"==typeof m.offset&&(z=m.offset.call(l),l.css({left:z.left,top:z.top})),m.effect.open.call(l,m.duration||1,function(){l.find("a,input,select,textarea,button,object,area,img,map").each(function(){var o=e(this);return o.focus().get(0)===document.activeElement?(s=o,!1):void 0}),I=l.trigger(y)}),f.css({backgroundColor:m.overlay.fillColor,zIndex:m.overlay.zIndex}).fadeTo(m.duration,m.overlay.opacity),I=0}return o}function l(t){var n,l,s,m=t instanceof e.Event;return I&&(n=m?I:function(){var e=t.index(I);return e>-1?t.eq(e):o}(),n&&(s=e.Event(C,{cancelable:!0}),n.trigger(s),s.isDefaultPrevented()||(l=n.data(h),l.effect.close.call(n,l.duration||1,function(){c.css({overflow:u,marginRight:d,marginBottom:p}),a&&a.length&&a.focus(),i.off("scroll",r).scrollLeft(v).scrollTop(g),n.trigger(x),I=null}),f.fadeOut(l.duration),I=0))),m?(t.preventDefault(),!1):t}function r(e){return i.scrollLeft(v).scrollTop(g),e.preventDefault(),!1}var i,c,f,a,s,u,d,p,v,g,h="plainModal",m=h.toLowerCase(),y=m+"open",x=m+"close",b=m+"beforeopen",C=m+"beforeclose",I=null;e.fn[h]=function(e,o){return"open"===e?n(this,o):"close"===e?l(this):t(this,e)}}(jQuery);