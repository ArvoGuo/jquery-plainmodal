!function(e,t){"use strict";function o(t,o){var n=e.extend(!0,{duration:200,effect:{open:e.fn.fadeIn,close:e.fn.fadeOut},overlay:{opacity:.6,zIndex:9e3},closeClass:x+"-close"},o);return n.overlay.fillColor=n.overlay.fillColor||n.overlay.color||"#888",n.zIndex=n.zIndex||n.overlay.zIndex+1,f||(f=e(window),s=e('<div class="'+x+'-overlay" />').css({position:"fixed",left:0,top:0,width:"100%",height:"150%",display:"none"}).appendTo(a=e("body")).click(i).on("touchmove",function(){return!1}),e(document).focusin(function(t){I&&!I.has(t.target).length&&(d?d.focus():e(document.activeElement).blur())}).keydown(function(e){return I&&27===e.keyCode?i(e):void 0})),t.each(function(){var t=e(this),o={position:"fixed",display:"none",zIndex:n.zIndex};n.offset?"function"==typeof n.offset?n.offset=function(e){return function(){var t=this;return e.call(t,function(){l.call(t)})}}(n.offset):(o.left=n.offset.left,o.top=n.offset.top):n.offset=l,n.closeClass&&t.find("."+n.closeClass).off("click",i).click(i),e.each([["open",b],["close",w],["beforeopen",z],["beforeclose",C]],function(e,o){var i=o[0],r=o[1];"function"==typeof n[i]&&t.off(r,n[i]).on(r,n[i])}),t.css(o).data(y,n).appendTo(a).on("touchmove",function(){return!1})})}function n(t,n){var i,l,x,w,C,T;if(null===I&&t.length){if(i=t.eq(0),(n||!(l=i.data(y)))&&(l=o(i,n).data(y)),T=e.Event(z,{cancelable:!0}),i.trigger(T),T.isDefaultPrevented())return t;x=a.get(0).style,p=x.overflow,w=a.prop("clientWidth"),C=a.prop("clientHeight"),a.css("overflow","hidden"),w-=a.prop("clientWidth"),C-=a.prop("clientHeight"),h=x.marginRight,v=x.marginBottom,0>w&&a.css("marginRight","+="+-w),0>C&&a.css("marginBottom","+="+-C),u=e(document.activeElement).blur(),d=null,g=f.scrollLeft(),m=f.scrollTop(),f.scroll(c),r(i,l),l.effect.open.call(i,l.duration||1,function(){i.find("a,input,select,textarea,button,object,area,img,map").each(function(){var t=e(this);return t.focus().get(0)===document.activeElement?(d=t,!1):void 0}),I=i.trigger(b)}),s.css({backgroundColor:l.overlay.fillColor,zIndex:l.overlay.zIndex}).fadeTo(l.duration,l.overlay.opacity),I=0}return t}function i(o){var n,i,r,l=o instanceof e.Event;return I&&(n=l?I:function(){var e=o.index(I);return e>-1?o.eq(e):t}(),n&&(r=e.Event(C,{cancelable:!0}),n.trigger(r),r.isDefaultPrevented()||(i=n.data(y),i.effect.close.call(n,i.duration||1,function(){a.css({overflow:p,marginRight:h,marginBottom:v}),u&&u.length&&u.focus(),f.off("scroll",c).scrollLeft(g).scrollTop(m),n.trigger(w),I=null}),s.fadeOut(i.duration),I=0))),l?(o.preventDefault(),!1):o}function r(e,t){var o;t=t||e.data(y),"function"==typeof t.offset&&(o=t.offset.call(e))&&e.css({left:o.left,top:o.top})}function l(){var e={},o=this.data(y+"-cur")||{},n=o.width,i=o.height,r=this.outerWidth(),l=this.outerHeight();(r!==n||l!==i)&&((n===t||i===t)&&(e.left=e.top="50%"),e.marginLeft="-"+r/2+"px",e.marginTop="-"+l/2+"px",this.css(e).data(y+"-cur",{width:r,height:l}))}function c(e){return f.scrollLeft(g).scrollTop(m),e.preventDefault(),!1}var f,a,s,u,d,p,h,v,g,m,y="plainModal",x=y.toLowerCase(),b=x+"open",w=x+"close",z=x+"beforeopen",C=x+"beforeclose",I=null;e(function(){e(window).resize(function(){I&&r(I)})}),e.fn[y]=function(e,t){return"open"===e?n(this,t):"close"===e?i(this):o(this,e)}}(jQuery);